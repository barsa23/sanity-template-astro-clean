---
import { formatDate } from "../utils";
import { urlFor } from "../utils/image";
import type { Post } from "../utils/sanity";

interface Props {
  post: Post;
}

const { post } = Astro.props;
---

<a href={`/post/${post.slug.current}`} class="group relative block bg-black rounded-2xl aspect-square w-96 h-96 align-middle mx-auto"

>

{
    post.mainImage ? (
      <img
        class="absolute inset-0 h-full w-50 rounded-2xl aspect-square object-cover  opacity-95 transition-opacity group-hover:opacity-50"
        src={urlFor(post.mainImage).width(230).height(180).url()}
        alt="Cover image"
      />
    ) : (
      <div class="card__cover--none" />
    )
  }
   
  
    <div class="relative p-4 sm:p-6 lg:p-8">
      
        <p class="text-sm font-medium uppercase tracking-widest text-pink-500">{formatDate(post._createdAt)}</p>
      <p class="text-xl font-bold text-white sm:text-2xl"> {post.title}</p>
  
      <div class="mt-32 sm:mt-48 lg:mt-64">
        <div
          class="translate-y-8 transform opacity-0 transition-all group-hover:translate-y-0 group-hover:opacity-100"
        >
          <p class="text-sm text-white">
            {post.excerpt}
          </p>
        </div>
      </div>
    </div>
  </a>



  <!-- <p class="card__excerpt"></p>
  <p class="card__date">
    {formatDate(post._createdAt)}
  </p> -->